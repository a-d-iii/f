---
import Base from '../layouts/Base.astro';
import FacultyCard from '../components/FacultyCard.astro';
import DetailedToggle from '../components/DetailedToggle.tsx';
import SearchBar from '../components/SearchBar.tsx';
import { paginate } from '../utils/pagination';
import { fetchLists } from '../utils/supabase';
const page = 1;
const faculty = await fetchLists();
const list = faculty;
---
<Base>
  <div class="animated-shapes" aria-hidden="true">
    <div class="shape shape-one"></div>
    <div class="shape shape-two"></div>
    <div class="shape shape-three"></div>
  </div>
  <DetailedToggle client:load />
  <SearchBar slot="search" client:load />
  <!-- Wrap cards with fixed width using flex -->
  <div class="flex flex-wrap justify-center gap-x-4 gap-y-8">
    {paginate(list, page).map(f => (
      <div class="card-wrapper">
        <FacultyCard faculty={f} />
      </div>
    ))}
  </div>
  <nav class="mt-4 flex justify-center gap-2">
    <a href="/page/2" class="px-4 py-2 rounded-lg bg-black text-white hover:bg-gray-800">Next &rarr;</a>
  </nav>
</Base>
